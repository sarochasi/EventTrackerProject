<div class="container my-5">
  <h2 class="text-center mb-4">Job Application Tracker</h2>

  <!-- Job List Table -->
  <div class="card shadow">
    <div class="card-header">
      <h5 class="mb-0">Your Job Applications</h5>
    </div>
    <div class="card-body">
      <table class="table table-hover">
        <thead class="thead-dark">
          <tr>
            <th>Position</th>
            <th>Company</th>
            <th>Date Applied</th>
            <th>Description</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let job of jobs" (click)="displayJob(job)">
            <td>{{ job.position }}</td>
            <td>{{ job.company }}</td>
            <td>{{ job.dateApplied }}</td>
            <td>{{ job.description }}</td>
            <td>
              <button class="btn btn-sm btn-primary" (click)="updateJob(job)">Edit</button>
              <!-- <button class="btn btn-sm btn-danger" (click)="deleteJob(job.id)">Delete</button> -->
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

 <!-- Job Details Section -->
 <div *ngIf="selected && !editJob" class="card mt-4 shadow">
  <div class="card-header bg-info text-white">
    <h5 class="mb-0">{{ selected.position }} at {{ selected.company }}</h5>
  </div>
  <div class="card-body">
    <h6 class="card-title">Job Details</h6>
    <p><strong>Position:</strong> {{ selected.position }}</p>
    <p><strong>Company:</strong> {{ selected.company }}</p>
    <p><strong>Date Applied:</strong> {{ selected.dateApplied || 'N/A' }}</p>
    <p><strong>Last Updated:</strong> {{ selected.updateDate || 'N/A' }}</p>
    <p><strong>Description:</strong> {{ selected.description }}</p>
    <p><strong>Note:</strong> {{ selected.note || 'N/A' }}</p>

    <div class="d-flex justify-content-between">
      <!-- <button class="btn btn-secondary" (click)="clearSelectedJob()">Close</button> -->
      <button class="btn btn-primary" (click)="setEditJob()">Edit Job</button>
    </div>
  </div>
</div>

  <!-- New Job Form -->
  <div class="card mt-4 shadow" >
    <div class="card-header">
      <h5 class="mb-0">Create New Job Application</h5>
    </div>
    <div class="card-body">
      <form (ngSubmit)="createJob()" #jobForm="ngForm">

        <!-- Position Field -->
        <div class="form-group">
          <label for="position">Position</label>
          <input
            type="text"
            id="position"
            class="form-control"
            [(ngModel)]="newJob.position"
            name="position"
            required
          />
        </div>

        <!-- Company Field -->
        <div class="form-group mt-2">
          <label for="company">Company</label>
          <input
            type="text"
            id="company"
            class="form-control"
            [(ngModel)]="newJob.company"
            name="company"
            required
          />
        </div>

        <!-- Date Applied Field -->
        <div class="form-group mt-2">
          <label for="dateApplied">Date Applied</label>
          <input
            type="date"
            id="dateApplied"
            class="form-control"
            [(ngModel)]="newJob.dateApplied"
            name="dateApplied"
          />
        </div>

        <!-- Description Field -->
        <div class="form-group mt-2">
          <label for="description">Description</label>
          <textarea
            id="description"
            class="form-control"
            [(ngModel)]="newJob.description"
            name="description"
            rows="3"
          ></textarea>
        </div>

        <!-- Note Field -->
        <div class="form-group mt-2">
          <label for="note">Note</label>
          <textarea
            id="note"
            class="form-control"
            [(ngModel)]="newJob.note"
            name="note"
            rows="2"
          ></textarea>
        </div>

        <!-- Form Buttons -->
        <div class="d-flex justify-content-between align-items-center mt-4">
          <button type="submit" class="btn btn-success" [disabled]="!jobForm.form.valid">Create Job</button>

        </div>
      </form>
    </div>
  </div>









</div>
